<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross-Platform Auto Click</title>
    <script>
        // 檢測設備類型（適配不同平台）
        function detectDevice() {
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            if (/windows phone/i.test(userAgent)) return "Windows Phone";
            if (/android/i.test(userAgent)) return "Android";
            if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) return "iOS";
            return "Desktop";
        }

        // 初始化功能
        window.onload = function () {
            const device = detectDevice();
            console.log(`Detected Device: ${device}`);

            // 跳轉到目標網站
            setTimeout(() => {
                window.location.href = 'https://misterinternational.choicely.com/';
            }, 1000); // 1 秒延遲防止被瀏覽器攔截

            // 自動點擊功能（需要等網站載入後執行）
            setTimeout(() => {
                const interval = setInterval(() => {
                    try {
                        // 使用 XPath 定位按鈕
                        const button = document.evaluate(
                            "/html/body/div[2]/div/div/div/div/div[1]/div/div/div[1]/div[2]/div/div/div[48]/div/div[4]/div/div[2]/div/button",
                            document,
                            null,
                            XPathResult.FIRST_ORDERED_NODE_TYPE,
                            null
                        ).singleNodeValue;

                        if (button) {
                            button.click(); // 自動點擊按鈕
                            clearInterval(interval); // 停止重複檢查
                            console.log("Button clicked successfully!");
                        }
                    } catch (error) {
                        console.log("Waiting for button to load...");
                    }
                }, 500); // 每 500 毫秒檢查一次
            }, 3000); // 網站載入後延遲 3 秒執行
        };
    </script>
</head>
<body>
    <h1>自動跳轉並執行操作中，請稍候...</h1>
</body>
</html>
